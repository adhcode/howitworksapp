{"version":3,"sources":["../../../src/database/schema/users.ts"],"sourcesContent":["import { pgTable, uuid, varchar, text, timestamp, boolean, pgEnum } from 'drizzle-orm/pg-core';\n\nexport const userRoleEnum = pgEnum('user_role', ['landlord', 'tenant', 'admin', 'facilitator']);\n\nexport const users = pgTable('users', {\n  id: uuid('id').defaultRandom().primaryKey(),\n  firstName: varchar('first_name', { length: 100 }).notNull(),\n  lastName: varchar('last_name', { length: 100 }).notNull(),\n  email: varchar('email', { length: 255 }).notNull().unique(),\n  password: varchar('password', { length: 255 }).notNull(),\n  phoneNumber: varchar('phone_number', { length: 20 }).notNull(),\n  role: userRoleEnum('role').notNull(),\n  nextOfKinName: varchar('next_of_kin_name', { length: 100 }),\n  nextOfKinPhone: varchar('next_of_kin_phone', { length: 20 }),\n  nextOfKinRelationship: varchar('next_of_kin_relationship', { length: 50 }),\n  avatar: text('avatar'),\n  isActive: boolean('is_active').default(true),\n  isEmailVerified: boolean('is_email_verified').default(false),\n  emailVerificationToken: varchar('email_verification_token', { length: 255 }),\n  emailVerificationCode: varchar('email_verification_code', { length: 6 }),\n  emailVerificationCodeExpires: timestamp('email_verification_code_expires'),\n  passwordResetToken: varchar('password_reset_token', { length: 255 }),\n  passwordResetExpires: timestamp('password_reset_expires'),\n  passwordResetCode: varchar('password_reset_code', { length: 6 }),\n  passwordResetCodeExpires: timestamp('password_reset_code_expires'),\n  \n  // Paystack payment fields (for tenants - recurring payments)\n  paystackAuthorizationCode: varchar('paystack_authorization_code', { length: 255 }),\n  paystackCardLast4: varchar('paystack_card_last4', { length: 4 }),\n  paystackCardBrand: varchar('paystack_card_brand', { length: 50 }),\n  paystackCardBank: varchar('paystack_card_bank', { length: 100 }),\n  \n  // Paystack payout fields (for landlords - cashouts)\n  paystackRecipientCode: varchar('paystack_recipient_code', { length: 255 }),\n  bankAccountName: varchar('bank_account_name', { length: 255 }),\n  bankAccountNumber: varchar('bank_account_number', { length: 20 }),\n  bankCode: varchar('bank_code', { length: 10 }),\n  \n  lastLoginAt: timestamp('last_login_at'),\n  createdAt: timestamp('created_at').defaultNow(),\n  updatedAt: timestamp('updated_at').defaultNow(),\n});\n\nexport type User = typeof users.$inferSelect;\nexport type NewUser = typeof users.$inferInsert; "],"names":["userRoleEnum","users","pgEnum","pgTable","id","uuid","defaultRandom","primaryKey","firstName","varchar","length","notNull","lastName","email","unique","password","phoneNumber","role","nextOfKinName","nextOfKinPhone","nextOfKinRelationship","avatar","text","isActive","boolean","default","isEmailVerified","emailVerificationToken","emailVerificationCode","emailVerificationCodeExpires","timestamp","passwordResetToken","passwordResetExpires","passwordResetCode","passwordResetCodeExpires","paystackAuthorizationCode","paystackCardLast4","paystackCardBrand","paystackCardBank","paystackRecipientCode","bankAccountName","bankAccountNumber","bankCode","lastLoginAt","createdAt","defaultNow","updatedAt"],"mappings":";;;;;;;;;;;QAEaA;eAAAA;;QAEAC;eAAAA;;;wBAJ4D;AAElE,MAAMD,eAAeE,IAAAA,cAAM,EAAC,aAAa;IAAC;IAAY;IAAU;IAAS;CAAc;AAEvF,MAAMD,QAAQE,IAAAA,eAAO,EAAC,SAAS;IACpCC,IAAIC,IAAAA,YAAI,EAAC,MAAMC,aAAa,GAAGC,UAAU;IACzCC,WAAWC,IAAAA,eAAO,EAAC,cAAc;QAAEC,QAAQ;IAAI,GAAGC,OAAO;IACzDC,UAAUH,IAAAA,eAAO,EAAC,aAAa;QAAEC,QAAQ;IAAI,GAAGC,OAAO;IACvDE,OAAOJ,IAAAA,eAAO,EAAC,SAAS;QAAEC,QAAQ;IAAI,GAAGC,OAAO,GAAGG,MAAM;IACzDC,UAAUN,IAAAA,eAAO,EAAC,YAAY;QAAEC,QAAQ;IAAI,GAAGC,OAAO;IACtDK,aAAaP,IAAAA,eAAO,EAAC,gBAAgB;QAAEC,QAAQ;IAAG,GAAGC,OAAO;IAC5DM,MAAMjB,aAAa,QAAQW,OAAO;IAClCO,eAAeT,IAAAA,eAAO,EAAC,oBAAoB;QAAEC,QAAQ;IAAI;IACzDS,gBAAgBV,IAAAA,eAAO,EAAC,qBAAqB;QAAEC,QAAQ;IAAG;IAC1DU,uBAAuBX,IAAAA,eAAO,EAAC,4BAA4B;QAAEC,QAAQ;IAAG;IACxEW,QAAQC,IAAAA,YAAI,EAAC;IACbC,UAAUC,IAAAA,eAAO,EAAC,aAAaC,OAAO,CAAC;IACvCC,iBAAiBF,IAAAA,eAAO,EAAC,qBAAqBC,OAAO,CAAC;IACtDE,wBAAwBlB,IAAAA,eAAO,EAAC,4BAA4B;QAAEC,QAAQ;IAAI;IAC1EkB,uBAAuBnB,IAAAA,eAAO,EAAC,2BAA2B;QAAEC,QAAQ;IAAE;IACtEmB,8BAA8BC,IAAAA,iBAAS,EAAC;IACxCC,oBAAoBtB,IAAAA,eAAO,EAAC,wBAAwB;QAAEC,QAAQ;IAAI;IAClEsB,sBAAsBF,IAAAA,iBAAS,EAAC;IAChCG,mBAAmBxB,IAAAA,eAAO,EAAC,uBAAuB;QAAEC,QAAQ;IAAE;IAC9DwB,0BAA0BJ,IAAAA,iBAAS,EAAC;IAEpC,6DAA6D;IAC7DK,2BAA2B1B,IAAAA,eAAO,EAAC,+BAA+B;QAAEC,QAAQ;IAAI;IAChF0B,mBAAmB3B,IAAAA,eAAO,EAAC,uBAAuB;QAAEC,QAAQ;IAAE;IAC9D2B,mBAAmB5B,IAAAA,eAAO,EAAC,uBAAuB;QAAEC,QAAQ;IAAG;IAC/D4B,kBAAkB7B,IAAAA,eAAO,EAAC,sBAAsB;QAAEC,QAAQ;IAAI;IAE9D,oDAAoD;IACpD6B,uBAAuB9B,IAAAA,eAAO,EAAC,2BAA2B;QAAEC,QAAQ;IAAI;IACxE8B,iBAAiB/B,IAAAA,eAAO,EAAC,qBAAqB;QAAEC,QAAQ;IAAI;IAC5D+B,mBAAmBhC,IAAAA,eAAO,EAAC,uBAAuB;QAAEC,QAAQ;IAAG;IAC/DgC,UAAUjC,IAAAA,eAAO,EAAC,aAAa;QAAEC,QAAQ;IAAG;IAE5CiC,aAAab,IAAAA,iBAAS,EAAC;IACvBc,WAAWd,IAAAA,iBAAS,EAAC,cAAce,UAAU;IAC7CC,WAAWhB,IAAAA,iBAAS,EAAC,cAAce,UAAU;AAC/C"}