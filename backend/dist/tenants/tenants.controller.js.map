{"version":3,"sources":["../../src/tenants/tenants.controller.ts"],"sourcesContent":["import { Controller, Get, Post, Param, Body, UseGuards, Request } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiBearerAuth } from '@nestjs/swagger';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { TenantsService } from './tenants.service';\n\n@ApiTags('tenants')\n@Controller('tenants')\n@UseGuards(JwtAuthGuard)\n@ApiBearerAuth()\nexport class TenantsController {\n    constructor(private readonly tenantsService: TenantsService) { }\n\n    @Get('my-data')\n    @ApiOperation({ summary: 'Get current tenant data' })\n    @ApiResponse({ status: 200, description: 'Tenant data retrieved successfully' })\n    async getMyData(@Request() req: any) {\n        const tenantData = await this.tenantsService.getTenantData(req.user.id);\n\n        return {\n            success: true,\n            data: tenantData,\n        };\n    }\n\n    @Get('rent-contract')\n    @ApiOperation({ summary: 'Get current tenant rent contract' })\n    @ApiResponse({ status: 200, description: 'Rent contract retrieved successfully' })\n    async getRentContract(@Request() req: any) {\n        const contract = await this.tenantsService.getTenantRentContract(req.user.id);\n\n        return {\n            success: true,\n            data: contract,\n        };\n    }\n\n    @Get('payments')\n    @ApiOperation({ summary: 'Get tenant payment information' })\n    @ApiResponse({ status: 200, description: 'Payment data retrieved successfully' })\n    async getPayments(@Request() req: any) {\n        const paymentData = await this.tenantsService.getTenantPayments(req.user.id);\n\n        return {\n            success: true,\n            data: paymentData,\n        };\n    }\n\n    @Get('reports')\n    @ApiOperation({ summary: 'Get tenant reports' })\n    @ApiResponse({ status: 200, description: 'Reports retrieved successfully' })\n    async getReports(@Request() req: any) {\n        const reports = await this.tenantsService.getTenantReports(req.user.id);\n\n        return {\n            success: true,\n            data: reports,\n        };\n    }\n\n    @Get('complaints')\n    @ApiOperation({ summary: 'Get tenant complaints' })\n    @ApiResponse({ status: 200, description: 'Complaints retrieved successfully' })\n    async getComplaints(@Request() req: any) {\n        const complaints = await this.tenantsService.getTenantComplaints(req.user.id);\n\n        return {\n            success: true,\n            data: complaints,\n        };\n    }\n\n    @Get('complaints/:id')\n    @ApiOperation({ summary: 'Get complaint detail' })\n    @ApiResponse({ status: 200, description: 'Complaint detail retrieved successfully' })\n    async getComplaintDetail(@Param('id') id: string, @Request() req: any) {\n        const complaint = await this.tenantsService.getComplaintDetail(id, req.user.id);\n\n        return {\n            success: true,\n            data: complaint,\n        };\n    }\n\n    @Post('complaints')\n    @ApiOperation({ summary: 'Submit new complaint' })\n    @ApiResponse({ status: 201, description: 'Complaint submitted successfully' })\n    async submitComplaint(@Body() complaintData: any, @Request() req: any) {\n        const complaint = await this.tenantsService.submitComplaint(complaintData, req.user.id);\n\n        return {\n            success: true,\n            data: complaint,\n        };\n    }\n}"],"names":["TenantsController","getMyData","req","tenantData","tenantsService","getTenantData","user","id","success","data","getRentContract","contract","getTenantRentContract","getPayments","paymentData","getTenantPayments","getReports","reports","getTenantReports","getComplaints","complaints","getTenantComplaints","getComplaintDetail","complaint","submitComplaint","complaintData","summary","status","description"],"mappings":";;;;+BASaA;;;eAAAA;;;wBAT0D;yBACL;8BACrC;gCACE;;;;;;;;;;;;;;;AAMxB,IAAA,AAAMA,oBAAN,MAAMA;IAGT,MAGMC,UAAU,AAAWC,GAAQ,EAAE;QACjC,MAAMC,aAAa,MAAM,IAAI,CAACC,cAAc,CAACC,aAAa,CAACH,IAAII,IAAI,CAACC,EAAE;QAEtE,OAAO;YACHC,SAAS;YACTC,MAAMN;QACV;IACJ;IAEA,MAGMO,gBAAgB,AAAWR,GAAQ,EAAE;QACvC,MAAMS,WAAW,MAAM,IAAI,CAACP,cAAc,CAACQ,qBAAqB,CAACV,IAAII,IAAI,CAACC,EAAE;QAE5E,OAAO;YACHC,SAAS;YACTC,MAAME;QACV;IACJ;IAEA,MAGME,YAAY,AAAWX,GAAQ,EAAE;QACnC,MAAMY,cAAc,MAAM,IAAI,CAACV,cAAc,CAACW,iBAAiB,CAACb,IAAII,IAAI,CAACC,EAAE;QAE3E,OAAO;YACHC,SAAS;YACTC,MAAMK;QACV;IACJ;IAEA,MAGME,WAAW,AAAWd,GAAQ,EAAE;QAClC,MAAMe,UAAU,MAAM,IAAI,CAACb,cAAc,CAACc,gBAAgB,CAAChB,IAAII,IAAI,CAACC,EAAE;QAEtE,OAAO;YACHC,SAAS;YACTC,MAAMQ;QACV;IACJ;IAEA,MAGME,cAAc,AAAWjB,GAAQ,EAAE;QACrC,MAAMkB,aAAa,MAAM,IAAI,CAAChB,cAAc,CAACiB,mBAAmB,CAACnB,IAAII,IAAI,CAACC,EAAE;QAE5E,OAAO;YACHC,SAAS;YACTC,MAAMW;QACV;IACJ;IAEA,MAGME,mBAAmB,AAAaf,EAAU,EAAE,AAAWL,GAAQ,EAAE;QACnE,MAAMqB,YAAY,MAAM,IAAI,CAACnB,cAAc,CAACkB,kBAAkB,CAACf,IAAIL,IAAII,IAAI,CAACC,EAAE;QAE9E,OAAO;YACHC,SAAS;YACTC,MAAMc;QACV;IACJ;IAEA,MAGMC,gBAAgB,AAAQC,aAAkB,EAAE,AAAWvB,GAAQ,EAAE;QACnE,MAAMqB,YAAY,MAAM,IAAI,CAACnB,cAAc,CAACoB,eAAe,CAACC,eAAevB,IAAII,IAAI,CAACC,EAAE;QAEtF,OAAO;YACHC,SAAS;YACTC,MAAMc;QACV;IACJ;IApFA,YAAY,AAAiBnB,cAA8B,CAAE;aAAhCA,iBAAAA;IAAkC;AAqFnE;;;;QAlFoBsB,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;;;;;;;;;;;;QAWzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa"}