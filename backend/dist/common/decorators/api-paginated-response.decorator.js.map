{"version":3,"sources":["../../../src/common/decorators/api-paginated-response.decorator.ts"],"sourcesContent":["import { applyDecorators, Type } from '@nestjs/common';\nimport { ApiOkResponse, getSchemaPath } from '@nestjs/swagger';\n\nexport const ApiPaginatedResponse = <TModel extends Type<any>>(\n  model: TModel,\n) => {\n  return applyDecorators(\n    ApiOkResponse({\n      schema: {\n        allOf: [\n          {\n            properties: {\n              data: {\n                type: 'array',\n                items: { $ref: getSchemaPath(model) },\n              },\n              meta: {\n                type: 'object',\n                properties: {\n                  total: { type: 'number' },\n                  page: { type: 'number' },\n                  limit: { type: 'number' },\n                  totalPages: { type: 'number' },\n                  hasNextPage: { type: 'boolean' },\n                  hasPrevPage: { type: 'boolean' },\n                },\n              },\n            },\n          },\n        ],\n      },\n    }),\n  );\n};"],"names":["ApiPaginatedResponse","model","applyDecorators","ApiOkResponse","schema","allOf","properties","data","type","items","$ref","getSchemaPath","meta","total","page","limit","totalPages","hasNextPage","hasPrevPage"],"mappings":";;;;+BAGaA;;;eAAAA;;;wBAHyB;yBACO;AAEtC,MAAMA,uBAAuB,CAClCC;IAEA,OAAOC,IAAAA,uBAAe,EACpBC,IAAAA,sBAAa,EAAC;QACZC,QAAQ;YACNC,OAAO;gBACL;oBACEC,YAAY;wBACVC,MAAM;4BACJC,MAAM;4BACNC,OAAO;gCAAEC,MAAMC,IAAAA,sBAAa,EAACV;4BAAO;wBACtC;wBACAW,MAAM;4BACJJ,MAAM;4BACNF,YAAY;gCACVO,OAAO;oCAAEL,MAAM;gCAAS;gCACxBM,MAAM;oCAAEN,MAAM;gCAAS;gCACvBO,OAAO;oCAAEP,MAAM;gCAAS;gCACxBQ,YAAY;oCAAER,MAAM;gCAAS;gCAC7BS,aAAa;oCAAET,MAAM;gCAAU;gCAC/BU,aAAa;oCAAEV,MAAM;gCAAU;4BACjC;wBACF;oBACF;gBACF;aACD;QACH;IACF;AAEJ"}